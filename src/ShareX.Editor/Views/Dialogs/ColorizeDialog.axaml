<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             mc:Ignorable="d" d:DesignWidth="400" d:DesignHeight="350"
             x:Class="ShareX.Editor.Views.Dialogs.ColorizeDialog"
             x:Name="ColorizeDialogRoot">

    <UserControl.Resources>
        <SolidColorBrush x:Key="ColorizeAccentColor">#3975D5</SolidColorBrush>
        <SolidColorBrush x:Key="ColorizeTextColor">#E7E9EA</SolidColorBrush>
        <SolidColorBrush x:Key="ColorizeLabelColor">#9CA3AF</SolidColorBrush>
    </UserControl.Resources>
    
    <UserControl.Styles>
        <Style Selector="TextBlock.label">
             <Setter Property="Foreground" Value="{StaticResource ColorizeLabelColor}"/>
             <Setter Property="FontSize" Value="13"/>
             <Setter Property="FontWeight" Value="SemiBold"/>
             <Setter Property="Margin" Value="0,0,0,4"/>
        </Style>
        <Style Selector="Button.primary">
            <Setter Property="Background" Value="{StaticResource ColorizeAccentColor}"/>
            <Setter Property="Foreground" Value="{StaticResource ColorizeTextColor}"/>
            <Setter Property="Padding" Value="20,8"/>
            <Setter Property="CornerRadius" Value="4"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
        </Style>
        <Style Selector="Button.secondary">
            <Setter Property="Background" Value="#3E3E3E"/>
            <Setter Property="Foreground" Value="{StaticResource ColorizeTextColor}"/>
            <Setter Property="Padding" Value="20,8"/>
            <Setter Property="CornerRadius" Value="4"/>
        </Style>
    </UserControl.Styles>

    <Border Background="#2E2E2E" CornerRadius="8" Padding="24" MinWidth="350">
        <StackPanel Spacing="16">
            <!-- Header -->
            <TextBlock Text="Colorize" 
                       FontSize="18" 
                       FontWeight="Bold" 
                       Foreground="{StaticResource ColorizeTextColor}"/>
            
            <StackPanel Spacing="12">
                <!-- Hue Slider -->
                <StackPanel Spacing="8">
                    <Grid ColumnDefinitions="*,Auto">
                        <TextBlock Classes="label" Text="Hue" VerticalAlignment="Center"/>
                        <TextBlock Grid.Column="1" 
                                   Text="{Binding ElementName=HueSlider, Path=Value, StringFormat='{}{0:0}Â°'}" 
                                   Foreground="{StaticResource ColorizeTextColor}"
                                   FontWeight="Bold"/>
                    </Grid>
                    <Slider x:Name="HueSlider"
                            Minimum="0" Maximum="360" Value="180"
                            TickFrequency="30" IsSnapToTickEnabled="False"
                            ValueChanged="OnValueChanged"/>
                </StackPanel>

                <!-- Saturation Slider -->
                <StackPanel Spacing="8">
                    <Grid ColumnDefinitions="*,Auto">
                        <TextBlock Classes="label" Text="Saturation" VerticalAlignment="Center"/>
                        <TextBlock Grid.Column="1" 
                                   Text="{Binding ElementName=SaturationSlider, Path=Value, StringFormat='{}{0:0}%'}" 
                                   Foreground="{StaticResource ColorizeTextColor}"
                                   FontWeight="Bold"/>
                    </Grid>
                    <Slider x:Name="SaturationSlider"
                            Minimum="0" Maximum="100" Value="50"
                            TickFrequency="10" IsSnapToTickEnabled="False"
                            ValueChanged="OnValueChanged"/>
                </StackPanel>

                <!-- Strength Slider -->
                <StackPanel Spacing="8">
                    <Grid ColumnDefinitions="*,Auto">
                        <TextBlock Classes="label" Text="Strength" VerticalAlignment="Center"/>
                        <TextBlock Grid.Column="1" 
                                   Text="{Binding ElementName=StrengthSlider, Path=Value, StringFormat='{}{0:0}%'}" 
                                   Foreground="{StaticResource ColorizeTextColor}"
                                   FontWeight="Bold"/>
                    </Grid>
                    <Slider x:Name="StrengthSlider"
                            Minimum="0" Maximum="100" Value="100"
                            TickFrequency="10" IsSnapToTickEnabled="False"
                            ValueChanged="OnValueChanged"/>
                </StackPanel>

                <!-- Color Preview -->
                <Border x:Name="PreviewColorBox" Height="30" CornerRadius="4" BorderBrush="#555" BorderThickness="1">
                    <Border.Background>
                        <SolidColorBrush Color="Transparent"/>
                    </Border.Background>
                </Border>
            </StackPanel>

            <!-- Buttons -->
            <Grid ColumnDefinitions="*,Auto,Auto" Margin="0,8,0,0">
                <StackPanel Grid.Column="1" Orientation="Horizontal" Spacing="8">
                    <Button Classes="secondary" Content="Cancel" Click="OnCancelClick"/>
                    <Button Classes="primary" Content="Apply" Click="OnApplyClick"/>
                </StackPanel>
            </Grid>
        </StackPanel>
    </Border>
</UserControl>
