<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:vm="using:ShareX.ImageEditor.ViewModels"
             mc:Ignorable="d" d:DesignWidth="400" d:DesignHeight="300"
             x:Class="ShareX.ImageEditor.Views.Dialogs.RotateCustomAngleDialog"
             x:Name="RotateCustomAngleDialogRoot"
             x:DataType="vm:MainViewModel">

    <StackPanel Spacing="0">
        <!-- Header -->
        <TextBlock Text="Rotate" Foreground="#9CA3AF" Margin="0,0,0,8"/>
        
        <StackPanel Spacing="12">
            <!-- Angle Section -->
            <StackPanel Spacing="0">
                <Grid ColumnDefinitions="*,Auto">
                    <TextBlock Grid.Column="0" Text="Angle (degrees)" Foreground="#9CA3AF"/>
                    <Border Grid.Column="1" Classes="capsule">
                        <TextBlock Text="{Binding RotateAngleDegrees, StringFormat='{}{0:0}°'}"
                                   Foreground="#E7E9EA"/>
                    </Border>
                </Grid>
                
                <Slider x:Name="AngleSlider"
                        Minimum="-180" Maximum="180" 
                        Value="{Binding RotateAngleDegrees}"
                        TickFrequency="1" IsSnapToTickEnabled="True"
                         Background="#374151"/>
            </StackPanel>
            
            <!-- Auto Resize Checkbox -->
            <CheckBox x:Name="AutoResizeCheckBox" 
                      IsChecked="{Binding RotateAutoResize}"
                      Content="Auto resize"
                      Foreground="#9CA3AF"/>

            <!-- Quick Actions -->
            <StackPanel Orientation="Horizontal" Spacing="8" HorizontalAlignment="Center">
                <Button Classes="editor-button" Click="OnResetClick" ToolTip.Tip="Reset" Padding="8,4">
                    <TextBlock FontFamily="{StaticResource FontAwesome}" Text="&#xf021;" FontSize="14"/>
                </Button>
                <Button Classes="editor-button" Click="OnRotateLeftClick" ToolTip.Tip="-90°" Padding="8,4">
                    <TextBlock FontFamily="{StaticResource FontAwesome}" Text="&#xf0e2;" FontSize="14"/>
                </Button>
                <Button Classes="editor-button" Click="OnRotateRightClick" ToolTip.Tip="+90°" Padding="8,4">
                    <TextBlock FontFamily="{StaticResource FontAwesome}" Text="&#xf01e;" FontSize="14"/>
                </Button>
            </StackPanel>

            <TextBlock Text="Changes are applied live. Cancel to revert." 
                       Foreground="#9CA3AF" FontSize="11" TextWrapping="Wrap" HorizontalAlignment="Center" TextAlignment="Center"/>

        </StackPanel>

        <!-- Buttons -->
        <Grid ColumnDefinitions="*,*" Margin="0,16,0,0">
            <Button Classes="editor-button" Content="Cancel" Click="OnCancelClick" Margin="0,0,4,0" HorizontalAlignment="Stretch"/>
            <Button Classes="editor-button active" Content="Apply" Click="OnApplyClick" Margin="4,0,0,0" Grid.Column="1" HorizontalAlignment="Stretch"/>
        </Grid>
    </StackPanel>
</UserControl>
